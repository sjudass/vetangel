/**
 * jquery.scrollless.animbyscroll
 * Scrolling animation effect for jquery.scrollless
 * 
 * @version  1.0.0
 * @requires jquery.scrollless
 * @author   Savr Goryaev (savreen.com/contact/)
 * @license  GPL v2 http://opensource.org/licenses/GPL-2.0
 */

(function(e){function a(e){if(!this||!e||typeof e!="object")return;if("animbyscroll"in e&&"nDuration"in e.animbyscroll)t=Math.floor(Number(e.animbyscroll.nDuration));if(n)return;n=this;e.fnAnimate=l;e.fnAnimateEnd=c}function f(e){if(!n||!e||!e.length)return;r=e;i=e.length}function l(a){if(!n)return;var f=a.startPrev,l=a.endPrev;o=a.start,u=a.end;if(o==f){if(u==l)return;u>l?r.slice(l,u).show():r.slice(u,l).hide();e.scrollless.setPosComplete();return}s=true;var h=n.height(),p=n.width(),d=n.offset().top;r.show();n.height(a.height).width(p);var v=r.eq(f).offset().top-d,m=r.eq(i-1).offset().top-d,g=o<i-1?r.eq(o).offset().top-d:m;var y=r.eq(o).outerHeight(),b=m+y-g;if(g<0){var w=r.eq(0).offset().top;v-=w;g-=w}else if(b<a.height){var E=a.height-b;g-=E+1}n.scrollTop(Math.floor(v));n.animate({scrollTop:Math.floor(g)},t,c)}function c(){if(!s)return;s=false;n.stop();r.hide();n.height("auto").width("auto");r.slice(o,u).show();e.scrollless.setPosComplete()}e.scrollless.on("preInit",a).on("postInit",f);var t=500;var n=0;var r=0;var i=0;var s=false;var o=0;var u=0})(jQuery)