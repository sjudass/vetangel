/**
 * jquery.scrollless.keyctrl
 * Keyboard control for jquery.scrollless
 * 
 * @version  1.0.0
 * @requires jquery.scrollless
 * @author   Savr Goryaev (savreen.com/contact/)
 * @license  GPL v2 http://opensource.org/licenses/GPL-2.0
 */

(function(e){function f(e){if(!this||!l(e))h();else n=true}function l(e){if(!e||typeof e!="object")return false;if(!("keyctrl"in e))return true;if("disable"in e.keyctrl)return false;if("useWheel"in e.keyctrl)t=Boolean(e.keyctrl.useWheel);return true}function c(o,u){if(!n||!o||!o.length)return;s=o.length;if(r)return;r=true;e(document).on({keydown:d,keyup:v});if(!t)return;if(document.addEventListener){if("onwheel"in document)document.addEventListener(i="wheel",m,false);else if("onmousewheel"in document)document.addEventListener(i="mousewheel",m,false);else document.addEventListener(i="DOMMouseScroll",m,false)}else if("onmousewheel"in document)document.attachEvent(i="onmousewheel",m)}function h(){if(!n||!s)return;n=r=false;e(document).off({keydown:d,keyup:v});if(!t||!i)return;if(i.substr(0,2)=="on")document.detachEvent(i,m);else document.removeEventListener(i,m,false)}function p(e){o=e.start;u=e.end}function d(e){g(e,false)}function v(e){y(g(e,true))}function m(e){e.preventDefault();if(!e)e=window.event;var t=e.deltaY?e.deltaY>0?1:-1:e.wheelDelta?e.wheelDelta>0?-1:1:e.detail>0?1:-1;y(a?t*2:t)}function g(e,t){var n=e.which;var r=0;switch(n){case 38:r=-1;break;case 40:r=1;break;case 33:r=-2;break;case 34:r=2;break;case 16:a=!t;break;default:return 0}return r}function y(t){if(!t)return;var n=t>0;if(!n&&o<=0||n&&u>=s)return;if(Math.abs(t)==1)e.scrollless.setPos(o+t);else if(n)e.scrollless.setPos(u);else e.scrollless.setPos({pos:o,right:o})}e.scrollless.on("preInit",f).on("postInit",c).on("disable",h).on("changePos",p);var t=false;var n=false;var r=false;var i="";var s=0;var o=0;var u=0;var a=false})(jQuery)