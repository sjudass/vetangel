/**
 * jquery.scrollless.tapctrl
 * e-book readers' tap control emulation for jquery.scrollless
 * 
 * @version  1.0.0
 * @requires jquery.scrollless
 * @author   Savr Goryaev (savreen.com/contact/)
 * @license  GPL v2 http://opensource.org/licenses/GPL-2.0
 */

(function(e){function f(e){if(!this||!l(e))h();else{n=true;r=this}}function l(e){if(!e||typeof e!="object")return false;if(!("tapctrl"in e))return true;if("disable"in e.tapctrl)return false;if("ratioTapArea"in e&&e.ratioTapArea>=.1&&e.ratioTapArea<1)t=Number(e.ratioTapArea);return true}function c(e,t){if(!n||!e||!e.length)return;o=e.length;var u=r.offset();i=u.left;s=u.top;r.on("click",d)}function h(){if(!n||!o)return;n=false;r.off("click",d)}function p(e){u=e.start;a=e.end}function d(e){m(v(e.pageX,e.pageY))}function v(e,n){var s=Math.floor(r.width()/2),o=i+s;return 1-Math.abs(e-o)/s<=t?e>o?1:-1:false}function m(t){if(!t)return;var n=t>0;if(!n&&u<=0||n&&a>=o)return;if(n)e.scrollless.setPos(a);else e.scrollless.setPos({pos:u,right:u})}e.scrollless.on("preInit",f).on("postInit",c).on("disable",h).on("changePos",p);var t=.3;var n=false;var r=0;var i=0;var s=0;var o=0;var u=0;var a=0})(jQuery)